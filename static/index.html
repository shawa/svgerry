<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
              integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
              crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
              integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
              crossorigin="anonymous">


        <link href="https://fonts.googleapis.com/css?family=Pacifico|Lato" rel="stylesheet">

        <script src="https://code.jquery.com/jquery-3.1.1.min.js"
                integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
                crossorigin="anonymous"></script>

        <style>
         body {
             font-family: Lato;
         }
         #logo {
             font-family: Pacifico;
             font-size: 20pt;
             text-align: center;
         }

         #tagline {
             font-size: 0.8em;
             text-align: center
         }
         #email, #shapetext {
             font-family: Menlo
         }

         #shapetext {
             margin-top: 1em;
             margin-bottom: 1em;
             background-color: #222222;
             color: #eeeeee
         }

         #shapeSVGDrawing {
             border: 1px solid #eeeeee;
         }
        </style>
    </head>
    <body>
            </div>

            <div class="container">
                <h1 id="logo">SVGerry</h1>
                <h2 id="tagline">Andrew Shaw <span id="email">&lt;shawa1@tcd.ie&gt;</span></h2>
                <iframe id="shapeSVGDrawing" width="100%" height="60%">
                </iframe>

            <form>
                <div class="form-group"></div>
                <textarea class="form-control" id="shapeText" rows="6" default="text">
[([Translate 0.4 0.4, Scale 0.05 0.3 ], Circle)
,([Translate 0.4   2, Scale 0.2  0.3 ], Circle)
,([Translate 1.3 0.3, Scale 0.01 0.2 ], Square)
,([Translate 0.9 0.3, Scale 0.05 0.01], Square)
,([Translate 0.9 2.2, Scale 0.05 0.01], Square)]
                </textarea>

                <button type="button" "onclick="postShapeText()" id="shapeRenderButton" class="btn">render</button>
            </form>
        </div>


    <script type="text/javascript">
      function requestRender(event){
        const shapeText = $('#shapeText').val().replace('\n', ' ');
        url =  `http://localhost:3000/svg?shapeText=${shapeText}`;
        console.log(url);
        $("#shapeSVGDrawing").attr('src', url);
      }
      $('#shapeText').keydown((e) => {
          if ((e.ctrlKey || e.metaKey) && e.keyCode === 13) {
              requestRender();
          }
      });

      $('#shapeRenderButton').on('click', requestRender);
      $('document').ready(requestRender);
    </script>

    </body>


</html>
